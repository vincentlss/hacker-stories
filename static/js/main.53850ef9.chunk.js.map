{"version":3,"sources":["check.svg","App.js","serviceWorker.js","index.js"],"names":["storiesReducer","state","action","type","isLoading","isError","data","payload","page","list","concat","filter","story","objectID","Error","getUrl","searchTerm","extractSearchTerm","url","substring","lastIndexOf","replace","SearchForm","onSearchInput","onSearchSubmit","onSubmit","className","id","value","isFocused","onInputChange","disabled","InputWithLabel","children","inputRef","React","useRef","useEffect","current","focus","htmlFor","ref","onChange","SORTS","NONE","TITLE","sortBy","AUTHOR","COMMENT","reverse","POINT","List","onRemoveItem","useState","sort","setSort","isReverse","setReverse","handleSort","sortKey","sortFunction","sortedList","style","display","width","onClick","map","item","key","Item","href","title","author","num_comments","points","App","initialState","localStorage","getItem","setValue","setItem","useSemiPersistentState","setSearchTerm","urls","setUrls","useReducer","stories","dispatchStories","handleFetchStories","useCallback","a","lastUrl","length","axios","get","result","hits","handleSearch","lastSearches","Set","slice","getLastSearches","event","target","preventDefault","index","handleLastSearch","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.53850ef9.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M113.636,272.638c-2.689,0-5.267-1.067-7.168-2.97L2.967,166.123c-3.956-3.957-3.956-10.371-0.001-14.329l54.673-54.703       c1.9-1.9,4.479-2.97,7.167-2.97c2.689,0,5.268,1.068,7.169,2.969l41.661,41.676L225.023,27.332c1.9-1.901,4.48-2.97,7.168-2.97l0,0       c2.688,0,5.268,1.068,7.167,2.97l54.675,54.701c3.956,3.957,3.956,10.372,0,14.328L120.803,269.668       C118.903,271.57,116.325,272.638,113.636,272.638z M24.463,158.958l89.173,89.209l158.9-158.97l-40.346-40.364L120.803,160.264       c-1.9,1.902-4.478,2.971-7.167,2.971c-2.688,0-5.267-1.068-7.168-2.97l-41.66-41.674L24.463,158.958z\"\n}));\n\nvar SvgCheck = function SvgCheck(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 297 297\",\n    style: {\n      enableBackground: \"new 0 0 297 297\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCheck, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/check.28e6eff3.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport axios from 'axios';\nimport { sortBy } from 'lodash';\n\nimport './App.css';\nimport { ReactComponent as Check } from './check.svg';\n\n\n\nconst useSemiPersistentState = (key, initialState) => {\n  const [value, setValue] = React.useState(\n    localStorage.getItem(key) || initialState\n  );\n\n  React.useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [value, key]);\n\n  return [value, setValue];\n};\n\nconst storiesReducer = (state, action) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n\n        data:\n          action.payload.page === 0\n            ? action.payload.list\n            : state.data.concat(action.payload.list),\n\n        page: action.payload.page,\n      };\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter(\n          story => action.payload.objectID !== story.objectID\n        ),\n      };\n    default:\n      throw new Error();\n  }\n};\n\nconst API_BASE = 'https://hn.algolia.com/api/v1';\nconst API_SEARCH = '/search';\nconst PARAM_SEARCH = 'query=';\nconst PARAM_PAGE = 'page=';\n\n// careful: notice the ? and & in between\nconst getUrl = (searchTerm, page) =>\n  `${API_BASE}${API_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}`;\n\n\nconst extractSearchTerm = url =>\nurl\n  .substring(url.lastIndexOf('?') + 1, url.lastIndexOf('&'))\n  .replace(PARAM_SEARCH, '');\nconst getLastSearches = urls =>\n  [...new Set(urls.slice().reverse())].reverse().slice(-5).map(url => extractSearchTerm(url));\n\nconst App = () => {\n  const [searchTerm, setSearchTerm] = useSemiPersistentState(\n    'search',\n    'React'\n  );\n\n  const [urls, setUrls] = React.useState([getUrl(searchTerm, 0)]);\n\n  const [stories, dispatchStories] = React.useReducer(\n    storiesReducer,\n\n    { data: [], page: 0, isLoading: false, isError: false }\n  );\n\n  const handleFetchStories = React.useCallback(async () => {\n    dispatchStories({ type: 'STORIES_FETCH_INIT' });\n\n    try {\n      const lastUrl = urls[urls.length - 1];\n      const result = await axios.get(lastUrl);\n\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: {\n          list: result.data.hits,\n          page: result.data.page,\n        },\n\n      });\n    } catch {\n      dispatchStories({ type: 'STORIES_FETCH_FAILURE' });\n    }\n  }, [urls]);\n\n  React.useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n\n  const handleRemoveStory = item => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n  const handleSearchInput = event => {\n    setSearchTerm(event.target.value);\n  };\n\n\n  const handleSearchSubmit = event => {\n    handleSearch(searchTerm, 0);\n    event.preventDefault();\n  };\n\n  const handleLastSearch = searchTerm => {\n    setSearchTerm(searchTerm);\n\n    handleSearch(searchTerm, 0);\n  };\n\n  const handleSearch = (searchTerm, page) => {\n    const url = getUrl(searchTerm, page);\n    setUrls(urls.concat(url));\n  };\n\n  const handleMore = () => {\n    const lastUrl = urls[urls.length - 1];\n    const searchTerm = extractSearchTerm(lastUrl);\n    handleSearch(searchTerm, stories.page + 1);\n  };\n\n  const lastSearches = getLastSearches(urls);\n  return (\n    <div className=\"container\">\n      <h1 className=\"headline-primary\">My Hacker Stories</h1>\n\n      <SearchForm\n        searchTerm={searchTerm}\n        onSearchInput={handleSearchInput}\n        onSearchSubmit={handleSearchSubmit}\n      />\n\n      {lastSearches.map((searchTerm, index) => (\n        <button\n          key={searchTerm + index}\n          type=\"button\"\n          onClick={() => handleLastSearch(searchTerm)}\n        >\n          {searchTerm}\n        </button>\n      ))}\n\n      {stories.isError && <p>Something went wrong ...</p>}\n\n      <List list={stories.data} onRemoveItem={handleRemoveStory} />\n\n      {stories.isLoading ? (\n        <p>Loading ...</p>\n      ) : (\n\n        <button type=\"button\" onClick={handleMore}>\n          More\n        </button>\n\n      )}\n    </div>\n  );\n};\n\nconst SearchForm = ({\n  searchTerm,\n  onSearchInput,\n  onSearchSubmit,\n}) => (\n  <form onSubmit={onSearchSubmit} className=\"search-form\">\n    <InputWithLabel\n      id=\"search\"\n      value={searchTerm}\n      isFocused\n      onInputChange={onSearchInput}\n    >\n      <strong>Search:</strong>\n    </InputWithLabel>\n\n    <button\n      type=\"submit\"\n      disabled={!searchTerm}\n      className=\"button button_large\"\n    >\n      Submit\n    </button>\n  </form>\n);\n\nconst InputWithLabel = ({\n  id,\n  value,\n  type = 'text',\n  onInputChange,\n  isFocused,\n  children,\n}) => {\n  const inputRef = React.useRef();\n\n  React.useEffect(() => {\n    if (isFocused) {\n      inputRef.current.focus();\n    }\n  }, [isFocused]);\n\n  return (\n    <>\n      <label htmlFor={id} className=\"label\">\n        {children}\n      </label>\n      &nbsp;\n      <input\n        ref={inputRef}\n        id={id}\n        type={type}\n        value={value}\n        onChange={onInputChange}\n        className=\"input\"\n      />\n    </>\n  );\n};\n\nconst SORTS = {\n  NONE: list => list,\n  TITLE: list => sortBy(list, 'title'),\n  AUTHOR: list => sortBy(list, 'author'),\n  COMMENT: list => sortBy(list, 'num_comments').reverse(),\n  POINT: list => sortBy(list, 'points').reverse(),\n};\n\nconst List = ({ list, onRemoveItem }) =>{\n  const [sort, setSort] = React.useState('NONE');\n  const [isReverse, setReverse] = React.useState(false);\n\n  const handleSort = sortKey => {\n    if (sort === sortKey){\n      setReverse(!isReverse)\n    }\n    else{\n      setReverse(false);\n      setSort(sortKey);\n    }\n  };\n\n  const sortFunction = SORTS[sort];\n  const sortedList = isReverse? sortFunction(list).reverse(): sortFunction(list);\n  return (\n    <div>\n      <div style={{ display: 'flex' }}>\n        <span style={{ width: '40%' }}>\n          <button type=\"button\" onClick={() => handleSort('TITLE')}>\n            Title\n          </button>\n\n        </span>\n        <span style={{ width: '30%' }}>\n          <button type=\"button\" onClick={() => handleSort('AUTHOR')}>\n            Author\n          </button>\n\n        </span>\n        <span style={{ width: '10%' }}>\n\n          <button type=\"button\" onClick={() => handleSort('COMMENT')}>\n            Comments\n          </button>\n\n        </span>\n        <span style={{ width: '10%' }}>\n          <button type=\"button\" onClick={() => handleSort('POINT')}>\n            Points\n          </button>\n        </span>\n        <span>Actions</span>\n      </div>\n\n      {sortedList.map(item => (\n        <Item\n          key={item.objectID}\n          item={item}\n          onRemoveItem={onRemoveItem}\n        />\n\n    ))}\n    </div>\n  );\n};\n\nconst Item = ({ item, onRemoveItem }) => (\n\n  <div style={{ display: 'flex' }}>\n    <span style={{ width: '40%' }}>\n      <a href={item.url}>{item.title}</a>\n    </span>\n\n    <span style={{ width: '30%' }}>{item.author}</span>\n    <span style={{ width: '10%' }}>{item.num_comments}</span>\n    <span style={{ width: '10%' }}>{item.points}</span>\n    <span style={{ width: '10%' }}>\n\n      <button type=\"button\" onClick={() => onRemoveItem(item)}>\n        Dismiss\n      </button>\n    </span>\n  </div>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}